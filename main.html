<!DOCTYPE html>
<html>
    <title>Layer Animation</title>
    <link rel="stylesheet" href="main.css">
    <body>
        <div class="cont s--inactive">
            <!-- cont inner start-->
            <div class="cont__inner">
                <!-- el start -->
                <div class="el">
                    <div class="el__overflow">
                        <div class="el__inner">
                            <div class="el__bg"></div>
                            <div class="el__preview-cont">
                                <h2 class="el__heading">Section 1</h2>
                            </div>
                            <div class="el__content">
                                <div class="el__text">Whatever</div>
                                <div class="el__close-btn"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            var $cont = document.querySelector('.cont');
            var $elsArr = [].slice.call(document.querySelectorAll('.el'));
            var $closeBtnsArr = [].slide.call(document.querySelectorAll('el__close-btn'));

            setTimeout(function() {
                $cont.classList.remove('s--inactive');
            }, 200);

            $elsArr.forEach(function($el) {
                $el.addEventListener('click', function() {
                    if (this.classList.contains('s--active')) return;
                    $cont.classList.add('s--el-active');
                    this.classList.add('s--active');
                });
            });

            $closeBtnsArr.forEach(function($btn) {
                $btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    $cont.classList.remove('s--el-active');
                    document.querySelector('.el.s--active').classList.remove('s--active');
                });
            });
        </script>
    </body>
</html>